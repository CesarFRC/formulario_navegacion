<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - UneTT</title>
    <link rel="stylesheet" href="../estilos/styles.css"> <!-- archivo CSS personalizado -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css"> <!-- Bulma CSS -->
    <script type="module" src="../BACKEND/login.js"></script>

    <script>
        // Cambio de imágenes en el background
        const imagenes = [
            '../imgs/3.jpg',
            '../imgs/utt_arcoiris.jpg',
            '../imgs/background.jpg'
        ];

        let indiceImagen = 0;

        function cambiarFondo() {
            indiceImagen = (indiceImagen + 1) % imagenes.length;
            document.body.style.backgroundImage = `url(${imagenes[indiceImagen]})`;
        }

        setInterval(cambiarFondo, 5000);
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";

        // Configuración de Firebase
        const firebaseConfig = {
            apiKey: "API_KEY",
            authDomain: "unett-4074c.firebaseapp.com",
            databaseURL: "https://unett-4074c-default-rtdb.firebaseio.com",
            projectId: "unett-4074c",
            storageBucket: "unett-4074c.appspot.com",
            messagingSenderId: "401481887315",
            appId: "APP_ID",
            measurementId: "MEASUREMENT_ID"
        };

        // Inicializa Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Verifica el estado de autenticación cuando la página se carga
        onAuthStateChanged(auth, (user) => {
            if (user) {
                if (user.emailVerified) {
                    window.location.href = "../HTML/pInicial.html"; // Redirige a la página principal
                }
            }
        });
    </script>
</head>

<body>
    <header class="encabezado">
        <img src="../imgs/banner_2024_aniversario_logo.jpg" class="ban">
    </header>
    
    <div class="form-container">
        <img src="../imgs/Unettlogo.png" class="logoutt">
        <h2>La Universidad Tecnológica de Torreón te conecta con el futuro y te impulsa hacia el éxito.</h2>
        <form id="login" class="box">
            <input class="input" type="text" placeholder="Correo electrónico" name="email" id="email" required>
            <input class="input" type="password" placeholder="Contraseña" name="password" id="password" required>
            <button class="button is-link" id="submit">Iniciar sesión</button>
            <a href="../HTML/registro.html">Crear cuenta nueva</a>
        </form>
    </div>
    
    <section class="sec">
        <div class="sec-content">
            <img src="../imgs/slidetecnolo.jpg" class="slideimage">
            <div class="text-content">
                <h1 id="acerca" class="title">ACERCA DE</h1>
                <h2 id="Enfocada" class="subtitle">
                    UneTT es una red social enfocada a los estudiantes de la Universidad Tecnología de Torreón, con el fin de que los estudiantes encuentren una comunidad donde se vean identificados y logren compartir sus ideas a los demás.
                </h2>
            </div>
        </div>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const hiddenElements = document.querySelectorAll('.hidden');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible'); // Añadir la clase cuando es visible
                    } else {
                        entry.target.classList.remove('visible'); // Eliminar la clase cuando no es visible
                    }
                });
            }, { threshold: 0.1 }); // Umbral de intersección

            hiddenElements.forEach(el => observer.observe(el));
        });
    </script>
</body>

</html>
